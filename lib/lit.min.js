!function(){function t(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function e(t){return"<"===t}function n(t){return">"===t}function r(t){return"/"===t}function o(t){return"="===t}function s(s,i,...c){const l={},u=(t=>Array.prototype.concat.apply([],t))(i.reduce((t,e,n)=>{if(n>0){const o=Symbol(`arg${n-1}`);l[o]=`arg${n-1}`;var r=[o].concat(e.split(""));t.push(r)}else t.push(e.split(""));return t},[]));let a,f=0;function p(){return f>=u.length}function h(t){f+=t}function g(t=0){var e=u[f+t];if("string"!=typeof e)throw new Error("get a symbol when access string");return e}function d(t=0){return u[f+t]}function m(){for(;!p()&&t(d());)h(1)}function y(){let t=[];for(;m(),!p();){const n=d();if(e(n)&&r(g(1)))return t;if(e(n))t.push($());else{const e=v();e&&t.push(e)}}return t}function $(){const t=b();if("close"===t.left)throw new Error("unexpected close left tag");if("open"===t.right){var e=y(),n=b();if("close"===n.right||"open"===n.left||"null"!==n.attributeCode)throw new Error("unexpected right tag");return e.length>0?`h(${t.name?t.name:"F"},${t.attributeCode},${e.join(",")})`:`h(${t.name?t.name:"F"},${t.attributeCode})`}return`h(${t.name},${t.attributeCode})`}function b(){const e=r(g(1))?"close":"open";h("close"===e?2:1);const i=function(){let e="";for(;!(t(g())||p()||r(g())&&n(g(1))||n(g()));)e+=escape(g()),h(1);return null!=s[e]?`C.${e}`:'"'+e+'"'}();m();const c=function(){let e=[],s=[];m();for(;!(p()||r(g())&&n(g(1))||n(g()));){if("."===d()&&"."===d(1)&&"."===d(2)){if("symbol"!=typeof d(3))throw new Error("trying to expread string");if(!(t(d(4))||r(d(4))&&n(d(5))||n(d(4))))throw new Error("trying to expread string");e.push(l[d(4)]),h(4)}else{let e="",i="",c=!1,u="";for(;!(p()||t(d())||o(d())||r(d())&&n(d(1))||n(d()));){const t=d();h(1),"symbol"==typeof t?(i+='"+'+l[t]+'+"',c=!0):i+=escape(t)}if(i='"'+i+'"',e+=c?"["+i+"]":i,e+=":",o(d()))if(h(1),"symbol"==typeof d()&&(t(d(1))||r(d(1))&&n(d(2))||n(d(1))))e+=l[d()],h(2);else{if("'"===d()){for(h(1);!p()&&"'"!==d();){const t=d();h(1),u+="symbol"==typeof t?'"+'+l[t]+'+"':escape(t)}h(1)}else if('"'===d()){for(h(1);!p()&&'"'!==d();){const t=d();h(1),u+="symbol"==typeof t?'"+'+l[t]+'+"':escape(t)}h(1)}else for(;!(p()||t(d())||r(d())&&n(d(1))||n(d()));){const t=d();h(1),u+="symbol"==typeof t?'"+'+l[t]+'+"':escape(t)}e+='"'+u+'"'}else e+="true",s.push(e)}m()}if(p())throw new Error("encountered eow when parse attributes");if(0===e.length&&0===s.length)return"null";if(e.length>0&&s.length>0)return`Object.assign({},{${s.join(",")}},${e.join(",")})`;if(s.length>0)return`{${s.join(",")}}`;if(e.length>0)return`Object.assign({},${e.join(",")})`}();m();const u=r(g())?"close":"open";return h("close"===u?2:1),{left:e,name:i,attributeCode:c,right:u}}function v(){let n=-1,r="",o="";for(;!p()&&!e(d());){const e=d();r+="string"==typeof e?{"\r":"\\r","\n":"\\n",'"':'\\"',"\\":"\\\\"}[s=e]||s:'",'+l[e]+',"',t(e)||(o=r,n=f),h(1)}var s;return n<0?null:`"${o}"`}const w=y();a=w.length>1?`return h(F,null,${w.join(",")})`:`return ${w[0]}`;let E=c.reduce((t,e,n)=>`${t},arg${n}`,"h,F,C");const j=new Function(E,a);return console.log(j.toString().slice(0,1e3)),j}const i=new WeakMap;var c=function(t,e){const n="function"==typeof t?t:(...e)=>t.creatElement(...e),r="function"==typeof t?null:t.Fragment;return(t,...o)=>{if(i.has(t))return i.get(t)(n,r,e,...o);{const c=s(e,t,...o);return i.set(t,c),c(n,r,e,...o)}}}({creatElement:(t,e,...n)=>({name:t,attr:e,children:n}),Fragment:Symbol("fragment")},{K:Symbol("K")});c`<div>test${"test"}<span/></div>123`,c`<div attr=${"test"} attr1=${"te"}st attr${"2"}="test">test<span/></div>`,c`<div attr=1>test<span/></div>`,c`<div ...${"attr"}>test<span/></div>`,c`<div ...${"attr"}>test<span/><div>next</div></div>`;let l="";for(let t=0;t<1e4;t++)Math.random()<.33?l+="<K>only text here<K/></K>":Math.random()<.5?l+="<tag a=\"123\" b='456' ok/>":l+="<tag/>";var u=[l];console.time("test");c(u);console.timeEnd("test"),console.time("test");for(var a=0;a<100;a++)c(u);console.timeEnd("test")}();