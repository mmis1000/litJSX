!function(){function t(e){return Object.getOwnPropertyNames(e).forEach(function(n){var a=e[n];"object"==typeof a&&null!==a&&t(a)}),Object.freeze(e)}const e=t=>Symbol(t);class n{constructor(t=null){this.parent=t}}const a={INIT:e("init"),LEAVE:e("leave"),SKIP_SPACE:e("skip_space")};t(a);class s{constructor(t,e){this.rule=t,this.data=new n,this.finished=!1,this.state=a.INIT,this.stack=[],this.str=e,this.ptr=0}enter(){this.data=new n(this.data)}leave(){null!=this.data.parent?this.data=this.data.parent:this.finished=!0}run(){try{return this._run()}catch(e){const n=this.str.match(/[^\r\n]+\r?\n?/g),a=this.ptr;let s=0,r=0,i=0;for(;r<a;){let t=r+n[s].length;if(t>=a){i=a-r;break}r=t,s++}function t(t,e){let n="";for(;e-- >0;)n+=t;return n}const o=`${n[s]}\n`+`${t(" ",i)}^ at line ${s+1} col ${i}\n`+t(" ",i+2)+e.message,c=new Error(o);throw c.originalError=e,c}}_run(){for(this.stack.push(this.rule);!this.finished;)"object"==typeof this.state?(this.stack.push(this.state),this.state=a.INIT,this.enter()):this.state===a.LEAVE&&(this.stack.pop(),this.leave(),this.state=a.INIT),null==this.stack[this.stack.length-1]?this.finished=!0:this.stack[this.stack.length-1][this.state](this);return this.data}walk(t){const e=this.ptr;t.lastIndex=this.ptr;const n=t.exec(this.str);if(n&&n.index>=this.ptr){const t=n.index,a=this.str.slice(e,t);return this.ptr=t,a}return null}expect(t){return t.lastIndex=0,t.test(this.str.slice(this.ptr))}isEOS(){return this.ptr>=this.str.length}}const r=/\S/g,i=/<|$/g,o=/(\s|>|\/>)/g,c=/(=|\s|>|\/>)/g,l=/'/g,h=/"/g,p=/^</g,u=/^<\//g,g=/^>|^\/>/g,T=/^\/>/g,f=/^\.\.\./g,d=/^=\S/g,m=/^=/g,E=/^'/g,A=/^"/g,w=/\S/g,I=Object.assign({},a,{MATCH_TAG:e("match_tag"),TAG:{LEFT:{OPEN:e("open"),CLOSE:e("close")},NAME:e("name"),ATTRIB:{SPREAD:e("spread"),NAME:e("name"),VALUE:e("value")},RIGHT:{OPEN:e("open"),CLOSE:e("close")}}});t(I);class b{constructor(t="",e={},n=[],a=null){this.name=t,this.attributes=e,this.attributeMixins=[],this.elements=n,this.parent=a}append(t){this.elements.push(t)}toJSON(){return{name:this.name,attributes:this.attributes,elements:this.elements.map(t=>"string"==typeof t?t:t.toJSON()),attributeMixins:this.attributeMixins}}}const k={[I.INIT](t){const e=t.data;if(e.initilized||(e.initilized=!0,e.tree=new b("__Fragment__"),e.stack=[e.tree],e.peak=(()=>e.stack[e.stack.length-1]),e.addAndEnter=((t,n,a,s)=>{const r=new b(t,n,s,e.peak());r.attributeMixins=a||[],e.peak().append(r),e.stack.push(r)}),e.add=((t,n,a,s)=>{const r=new b(t,n,s,e.peak());r.attributeMixins=a||[],e.peak().append(r)}),e.leave=(()=>{e.stack.pop()})),t.isEOS()){if(t.state=I.LEAVE,1!==e.stack.length)throw new SyntaxError("unclosed tags "+e.stack.slice(1).map(t=>`<${t.name}>`).join(""))}else t.state=I.SKIP_SPACE},[I.SKIP_SPACE](t){t.walk(r),t.state=I.MATCH_TAG},[I.MATCH_TAG](t){t.expect(p)?t.state=this.TAG:t.state=this.TEXT},TAG:{[I.INIT](t){const e=t.data;if(!e.initilized)return e.initilized=!0,e.attributes={},e.attributeMixins=[],e.name=null,e.left=null,e.attributes={},e.right=null,e.part="left",void(t.state=this.LEFT);if("left"===e.part)return e.part="name",void(t.state=I.TAG.NAME);if("name"===e.part)return e.part="attributes",void(t.state=this.ATTRIB);if("attributes"===e.part)return e.part="right",void(t.state=this.RIGHT);if("right"!==e.part);else{if("close"===e.left&&"close"===e.right)throw new SyntaxError("both end closed tag");if("close"===e.left){if(Object.keys(e.attributes).length>0)throw new SyntaxError("close tag can't has attribute");if((e.name||"__Fragment__")!==e.parent.peak().name)throw new SyntaxError(`unmateched tags <${e.parent.peak().name}></${e.name}>`);e.parent.leave()}else if("close"===e.right){if(!e.name)throw new SyntaxError("you can't write a self close fragment!");e.parent.add(e.name,e.attributes,e.attributeMixins,[])}else e.parent.addAndEnter(e.name||"__Fragment__",e.attributes,e.attributeMixins,[]);t.state=I.LEAVE}},LEFT:{[I.INIT](t){const e=t.data.parent;t.expect(u)?(t.ptr+=2,e.left="close"):(t.ptr+=1,e.left="open"),t.state=a.LEAVE}},[I.TAG.NAME](t){t.walk(r);const e=t.walk(o);t.data.name=e,t.state=a.INIT},ATTRIB:{[I.INIT](t){t.walk(r),t.expect(g)?t.state=a.LEAVE:t.expect(f)?t.state=I.TAG.ATTRIB.SPREAD:t.state=I.TAG.ATTRIB.NAME},[I.TAG.ATTRIB.SPREAD](t){t.ptr+=3;const e=t.walk(o),n=t.data.parent;if(0===e.length)throw new SyntaxError("nothing to spread");n.attributeMixins.push(e),t.state=I.INIT},[I.TAG.ATTRIB.NAME](t){const e=t.walk(c),n=t.data,a=t.data.parent;if(0===e.length)throw new SyntaxError("attribute without name");t.expect(d)?(t.ptr++,n.name=e,t.state=I.TAG.ATTRIB.VALUE):t.expect(m)?(t.ptr++,a.attributes[e]="",t.state=I.INIT):(a.attributes[e]="",t.state=I.INIT)},[I.TAG.ATTRIB.VALUE](t){let e;t.expect(E)?(t.ptr++,e=t.walk(l),t.ptr++):t.expect(A)?(t.ptr++,e=t.walk(h),t.ptr++):e=t.walk(o);const n=t.data;t.data.parent.attributes[n.name]=e,t.state=a.INIT}},RIGHT:{[I.INIT](t){const e=t.data.parent;t.expect(T)?(t.ptr+=2,e.right="close"):(t.ptr+=1,e.right="open"),t.state=a.LEAVE}}},TEXT:{[I.INIT](t){const e=t.walk(i);if(null==e)throw new Error("unknown state, how should I enter here?");const n=t.data.parent;w.test(e)&&n.peak().elements.push(e.trim()),t.state=I.LEAVE}}},S=new WeakMap;function x(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&nbsp;/g,"Â ").replace(/&amp;/g,"&")}function _(t,e){return function(n,...a){if(S.has(n))return S.get(n)(t,e,...a);const r=[];let i="";const o=Math.random().toString(16).slice(2,10);for(let t=0;t<n.length;t++)t>0&&(i+=`$place_${o}_${t-1}$`,r.push(`$place_${o}_${t-1}$`)),i+=n[t];const c=new RegExp(`\\$place_${o}_\\d+\\$`,"g");let l=new s(k,i).run().tree;1===l.elements.length&&"string"!=typeof l.elements[0]&&(l=l.elements[0]);const h=function(t){function n(t,e){let n="";e.match(c)?n+="["+JSON.stringify(e).replace(c,function(t){return'"+'+t+'+"'})+"]":n+=JSON.stringify(e),n+=":";const a=t.attributes[e],s=a.match(c);return s?s[0]===a?n+=s[0]:n+=JSON.stringify(x(a)).replace(c,function(t){return'"+'+t+'+"'}):n+=JSON.stringify(x(a)),n}return"return "+function t(a){return"string"==typeof a?JSON.stringify(x(a)).replace(c,function(t){return'" , '+t+' , "'}):`React.createElement(${"__Fragment__"==a.name?"React.Fragment":void 0!==e[a.name]?"components."+a.name:JSON.stringify(a.name)}, ${a.attributeMixins.length>0?"Object.assign({}, {"+Object.keys(a.attributes).map(t=>n(a,t)).join(",\n")+"},"+a.attributeMixins.map(function(t){const e=t.match(c);if(e&&t===e[0])return t.match(c)[0];throw new Error("cannot expand a string "+t)}).join(",")+")":Object.keys(a.attributes).length>0?"{"+Object.keys(a.attributes).map(t=>n(a,t)).join(",")+"}":"null"},${a.elements.map(t).join(",")})`}(t).replace(/^[\s\r\n]+/,"")}(l),p=new Function("React","components",...r,h);return S.set(n,p),p(t,e,...a)}}"undefined"!=typeof module?module.exports={STATE:a,JSX_STATE:I,rules:k,Data:n,Context:s,JSXElement:b,jsx:_}:void 0!==typeof window&&(window.litJSX={cache:S,STATE:a,JSX_STATE:I,rules:k,Data:n,Context:s,JSXElement:b,jsx:_})}();